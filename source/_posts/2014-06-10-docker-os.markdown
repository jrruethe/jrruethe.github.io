---
layout: post
title: "Docker OS"
date: 2014-06-10 22:23:13 -0400
comments: true
categories: 
---

I have been playing around with Docker and I am really enjoying it, it is an amazing concept.
In particular, I have been inspired by the following projects:

- boot2docker
- debian2docker
- dind
- docker-desktop

I began to think, why not try to pull all these together and create a docker based operating system?
No, I'm not thinking along the lines of CoreOS, which is targeted to scalable production environments.
I'm thinking more for a portable modular development environment.

I have a couple unusual requirements I will try to achieve:

- Keep the base image under 50MB for fitting on a business card CD
- Keep base image as minimal as possible
- Have a full installation of Docker available for running containers
- Have the created ISO be hybrid; Allow for burning to disk or dd to USB
- Provide an auto-import mechanism from the ISO itself or from a USB drive
- Boot using Grub2
- Support squashfs + aufs + tmpfs for writable read-only media
- Support mounting /var/lib/docker to a persistent partition
- Support a "frugal" installation
- Support LUKS full-disk encryption on install
- Boot using a customized Kali-linux kernel
- Use Xpra / Xephyr to display GUI applications inside docker containers
- Strip out all unnecessary files from the image
- Use Multistrap and apt-pinning to create the base image
- Support alias scripts in a bin/ directory for running available images
- Keep the entire base system inside an initramfs.gz for easy booting

As you can see, I am aiming for a portable modular system that is small, easy to modify, allows for full disk encryption persistence as well as running strictly in ram, and can boot from CD or USB. I'm hoping to build everything on it from Docker (more on this in a later post) including the desktop environment. Finally, I want to have a setup that allows me to drop docker images in a folder and have them available to use (auto-import) along with generated bin scripts to run them.

Seems like a lot?
You can view the project here:

    https://github.com/jrruethe/debian2docker